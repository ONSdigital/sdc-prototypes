---
group: Frontstage
title: User account creation
version: 30.0.0
layout: user-self-serve/views/version-8/_master-survey
---

{% from "components/panel/_macro.njk" import onsPanel %}
{% from "components/input/_macro.njk" import onsInput %}
{% from "components/button/_macro.njk" import onsButton %}
{% from "components/password/_macro.njk" import onsPassword %}

{% block main %}
  <h1>Change your password</h1>

  {{
    onsPassword({
        "id": "currentpassword",
        "label": {
            "text": "Enter current password"
        },
        "showPasswordText": "Show password"
    })
}}
  <h2 class="u-mt-l">Create a new password</h2>
  <div class="field js-password">
    <div id="message">
      <p>Your new password must have:</p>
      <ul>
        <li id="length">at least 8 characters</li>
        <li id="capital">at least 1 uppercase letter</li>
        <li id="symbol">at least 1 symbol (eg: ?!£%)</li>
        <li id="number">at least 1 number</li>
      </ul>
    </div>
    <label class="label" for="psw">
        New password
  </label>
    <span class="checkbox js-password-toggle-wrap checkbox--toggle u-d-no">
      <input type="checkbox" onclick="showPassword()" id="password-toggle" class="checkbox__input js-checkbox js-password-toggle" value="" name="show-password">
      <label class="checkbox__label  " for="password-toggle" id="password-toggle-label">Show password
    </label>
    </span>
    <input name="psw" type="password" id="psw" class="input input--text input-type__input u-mt-xs js-password-input"/>
  </div>

  <div class="field js-password">
    <label class="label  " for="password">Re-type your new password</label>
    <input type="password" id="password" class="input input--text input-type__input   u-mt-xs js-password-input" />
  </div>

  <p class="field">
    <button type="submit" class="btn" onclick="location.href='{{ pageInfo.rootPath }}/version-8/signed-in/account/02-change-password/02-change-password-confirm.html';">
      <span class="btn__inner">Submit</span>
    </button>
  </p>

  <script>
    var myInput = document.getElementById("psw");
        var symbol = document.getElementById("symbol");
        var capital = document.getElementById("capital");
        var number = document.getElementById("number");
        var length = document.getElementById("length");

  // When the user starts to type something inside the password field
  myInput.onkeyup = function() {
    
    // Validate length
    if (myInput.value.length >= 8) {
      length.classList.remove("invalid");
      length.classList.add("valid");
    } else {
      length.classList.remove("valid");
      length.classList.add("invalid");
    }

    // Validate capital letters
    var upperCaseLetters = /[A-Z]/g;
    if (myInput.value.match(upperCaseLetters)) {
      capital.classList.remove("invalid");
      capital.classList.add("valid");
    } else {
      capital.classList.remove("valid");
      capital.classList.add("invalid");
    }

    // Validate symbols
    var symbols = /[-!@£$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/g;
    if (myInput.value.match(symbols)) {
      symbol.classList.remove("invalid");
      symbol.classList.add("valid");
    } else {
      symbol.classList.remove("valid");
      symbol.classList.add("invalid");
    }

    // Validate numbers
    var numbers = /[0-9]/g;
    if (myInput.value.match(numbers)) {
      number.classList.remove("invalid");
      number.classList.add("valid");
    } else {
      number.classList.remove("valid");
      number.classList.add("invalid");
    }
  }
</script>

<script>
  function showPassword() {
    var x = document.getElementById("psw");
    if (x.type === "password") {
      x.type = "text";
    } else {
      x.type = "password";
    }
  }
</script>


{% endblock %}
