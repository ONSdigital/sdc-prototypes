{% extends "page-templates/_template.njk" %}

{% block head %}
    <link rel="stylesheet" href="{{ pageInfo.rootPath }}/styles.css"/>
{% endblock %}
{% set pageConfig = { 
    "cdn": "17.0.0",
    "title": "Census ROps Case Management",
    "wide": true,
    "header": {
      "logoAlt": "ONS",
      "logoHref": "/",
      "classes": "header--internal header--thin",
      "logo": "ons-logo-white"
    },
    "footer": {
        "OGLLink": {
            "pre": 'All content is available under the',
            "link": 'Open Government Licence v3.0',
            "url": 'https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/',
            "post": ', except where otherwise stated'
        }
    }
} %}

{% block pageContent %}
    {% block preMain %}{% endblock %}
    <div class="page__container container container--wide">
        <main id="main-content" class="page__main {{ pageClasses }}">
            <p class="field u-mb-l">
                <a href="javascript:window.history.back();">Back to event history</a>
            </p>
            {% for case in casedetails %}
                <div class="grid">
                    <div class="grid__col col-12@m">
                        <h1>Case details for
                            {% if case.organisation_name.length > 0 %}
                                {{ case.organisation_name }}
                            {% endif %}
                            {% if case.address_line1.length > 0 %}
                                {{ case.address_line1 }}
                            {% endif %}
                        </h1>

                        <h2>Case details</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Case details" aria-label="Case details">
                            {% if case.case_id.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">case_id</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.case_id }}
                                </dd>
                            {% endif %}
                            {% if case.case_ref.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">case_ref</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.case_ref }}
                                </dd>
                            {% endif %}
                            {% if case.case_type.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">case_type</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.case_type }}
                                </dd>
                            {% endif %}
                            {% if case.estab_arid.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">estab_arid</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.estab_arid }}
                                </dd>
                            {% endif %}
                            {% if case.address_type.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_type</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_type }}
                                </dd>
                            {% endif %}
                            {% if case.treatment_code.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">treatment_code</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.treatment_code }}
                                </dd>
                            {% endif %}
                            {% if case.htc_digital.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">htc_digital</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.htc_digital }}
                                </dd>
                            {% endif %}
                            {% if case.htc_willingness.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">htc_willingness</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.htc_willingness }}
                                </dd>
                            {% endif %}
                            {% if case.survey.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">survey</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.survey }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>Address</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Case address" aria-label="Case address">
                            {% if case.organisation_name.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">organisation_name</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.organisation_name }}
                                </dd>
                            {% endif %}
                            {% if case.address_level.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_level</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_level }}
                                </dd>
                            {% endif %}
                            {% if case.address_line1.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_line1</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_line1 }}
                                </dd>
                            {% endif %}
                            {% if case.address_line2.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_line2</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_line2 }}
                                </dd>
                            {% endif %}
                            {% if case.address_line3.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_line3</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_line3 }}
                                </dd>
                            {% endif %}
                            {% if case.town_name.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">town_name</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.town_name }}
                                </dd>
                            {% endif %}
                            {% if case.region.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">region</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.region }}
                                </dd>
                            {% endif %}
                            {% if case.postcode.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">postcode</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.postcode }}
                                </dd>
                            {% endif %}
                            {% if case.estab_type.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">estab_type</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.estab_type }}
                                </dd>
                            {% endif %}
                            {% if case.uprn.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">uprn</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.uprn }}
                                </dd>
                            {% endif %}
                            {% if case.abp_code.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">abp_code</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.abp_code }}
                                </dd>
                            {% endif %}
                            {% if case.lad.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">lad</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.lad }}
                                </dd>
                            {% endif %}
                            {% if case.hand_delivery.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">hand_delivery</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.hand_delivery }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>CE</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="CE" aria-label="CE">
                            {% if case.ce_actual_responses.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">ce_actual_responses</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.ce_actual_responses }}
                                </dd>
                            {% endif %}
                            {% if case.ce_expected_capacity.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">ce_expected_capacity</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.ce_expected_capacity }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>Field officer details</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Field officer details" aria-label="Field officer details">
                            {% if case.field_coordinator_id.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">field_coordinator_id</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.field_coordinator_id }}
                                </dd>
                            {% endif %}
                            {% if case.field_officer_id.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">field_officer_id</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.field_officer_id }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>Geographic details</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Geographic details" aria-label="Geographic details">
                            {% if case.latitude.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">latitude</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.latitude }}
                                </dd>
                            {% endif %}
                            {% if case.longitude.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">longitude</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.longitude }}
                                </dd>
                            {% endif %}
                            {% if case.lsoa.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">lsoa</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.lsoa }}
                                </dd>
                            {% endif %}
                            {% if case.msoa.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">msoa</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.msoa }}
                                </dd>
                            {% endif %}
                            {% if case.oa.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">oa</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.oa }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>Date and time</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Date and time" aria-label="Date and time">

                            {% if case.created_date_time.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">created_date_time</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.created_date_time }}
                                </dd>
                            {% endif %}
                            {% if case.last_updated.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">last_updated</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.last_updated }}
                                </dd>
                            {% endif %}
                        </dl>

                        <h2>Status</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Status" aria-label="Status">

                            {% if case.receipt_received.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">receipt_received</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.receipt_received }}
                                </dd>
                            {% endif %}
                            {% if case.refusal_received.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">refusal_received</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.refusal_received }}
                                </dd>
                            {% endif %}
                            {% if case.address_invalid.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">address_invalid</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.address_invalid }}
                                </dd>
                            {% endif %}
                            {% if case.undelivered_as_addressed.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">undelivered_as_addressed</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.undelivered_as_addressed }}
                                </dd>
                            {% endif %}
                        </dl>

                        <!--
                        <h2>Unused</h2>
                        <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-s" title="Unused" aria-label="Unused">
                            {% if case.action_plan_id.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">action_plan_id</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.action_plan_id }}
                                </dd>
                            {% endif %}
                            {% if case.arid.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">arid</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.arid }}
                                </dd>
                            {% endif %}
                            {% if case.collection_exercise_id.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">collection_exercise_id</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.collection_exercise_id }}
                                </dd>
                            {% endif %}
                            {% if case.secret_sequence_number.length > 0 %}
                                <dt class="metadata__term grid__col col-2@m">secret_sequence_number</dt>
                                <dd class="metadata__value grid__col col-10@m">
                                    {{ case.secret_sequence_number }}
                                </dd>
                            {% endif %}
                            <dd class="metadata__value grid__col col-10@m">
                                <span class="status status--success">Receipted</span>
                            </dd>
                        </dl>-->
                    </div>
                </div>
            {% else %}
                No data
            {% endfor %}
            {% block main %}{% endblock %}
        </main>
    </div>
{% endblock %}

{% block footer %}
    {% from "components/footer/_macro.njk" import onsFooter %}
    {{ 
        onsFooter() 
    }}
{% endblock %}

{% block bodyEnd %}
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="{{ pageInfo.rootPath }}/scripts/index.js"></script>
{% endblock %}
